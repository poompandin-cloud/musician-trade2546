# ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πà‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!

## üîß ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö:
- ‚ùå ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÉ‡∏ô Database ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ `credit_balance`
- ‚ùå ‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ `credits` ‡πÅ‡∏•‡∏∞ `credit_balance` ‡∏õ‡∏ô‡∏Å‡∏±‡∏ô
- ‚ùå ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:

### 1. ‚úÖ App.tsx - ‡πÉ‡∏ä‡πâ credit_balance ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
```tsx
// ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
.select('credit_balance')

// ‡∏™‡∏£‡πâ‡∏≤‡∏á profile ‡πÉ‡∏´‡∏°‡πà
.insert([{ 
  id: userId, 
  credit_balance: 20,
  // ...
}])

// ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
currentCredits = profile?.credit_balance || 20;

// ‡∏´‡∏±‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
const updateData: any = {
  credit_balance: currentCredits - 5
};
```

### 2. ‚úÖ ProfilePage.tsx - ‡πÉ‡∏ä‡πâ credit_balance
```tsx
interface Profile {
  // ...
  credit_balance: number; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å credits
  // ...
}

// ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
{isOwner ? realTimeCredits : (profile.credit_balance || 0)} ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
```

### 3. ‚úÖ realTimeCreditService.ts - ‡πÉ‡∏ä‡πâ credit_balance
```tsx
export interface ProfileData {
  id: string;
  credit_balance: number; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å credits
  last_credit_reset?: string;
}

// ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
.select('credit_balance, last_credit_reset')

// Real-time update
const newCredits = payload.new?.credit_balance || 0;

// Refetch profile
.select('id, credit_balance, last_credit_reset')
```

## üîÑ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß:

### **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏á‡∏≤‡∏ô**:
1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö session** ‚úÖ
2. **‡πÄ‡∏ä‡πá‡∏Ñ weekly quota** ‚úÖ
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï** ‚úÖ - ‡πÉ‡∏ä‡πâ `credit_balance`
4. **‡∏™‡∏£‡πâ‡∏≤‡∏á profile** ‚úÖ - ‡πÉ‡∏ä‡πâ `credit_balance: 20`
5. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô** ‚úÖ
6. **‡∏´‡∏±‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï** ‚úÖ - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `credit_balance`
7. **Refetch profile** ‚úÖ - ‡∏î‡∏∂‡∏á `credit_balance`
8. **Real-time update** ‚úÖ - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å‡∏à‡∏∏‡∏î

### **‡∏Å‡∏≤‡∏£ Sync ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç**:
- **CreditWidget** (‡∏õ‡∏∏‡πà‡∏°‡∏™‡πâ‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á) ‚Üê Real-time
- **ProfilePage** (‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå) ‚Üê Real-time
- **‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏à‡∏∏‡∏î** ‚Üê ‡πÉ‡∏ä‡πâ `credit_balance` ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:
- ‚úÖ **‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô** ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ `credit_balance`
- ‚úÖ **‡πÑ‡∏°‡πà‡∏°‡∏µ error** ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå
- ‚úÖ **‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô** ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏∏‡∏Å‡∏à‡∏∏‡∏î
- ‚úÖ **Real-time sync** ‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‚úÖ **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á refresh** ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
1. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö** ‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà `/search`
2. **‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏á‡∏≤‡∏ô** - ‡∏Ñ‡∏ß‡∏£‡∏´‡∏±‡∏î‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡πÑ‡∏î‡πâ
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç**:
   - CreditWidget (‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á) ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
   - ProfilePage ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
   - ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

## üìã ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
- `src/App.tsx` - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ `credit_balance`
- `src/pages/ProfilePage.tsx` - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô interface ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
- `src/services/realTimeCreditService.ts` - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πâ `credit_balance`

---

**üéâ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πà‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß! 15 ‡πÅ‡∏•‡∏∞ 20 ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ**
